<div class="top-container">
  <span
    style="
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      align-items: center;
    "
  >
    <p style="color: #222222; font-size: 35px; font-weight: 600">
      All Products
    </p>
    <subtitle
      text="Showing 1 - {{ product_list[currentPage].length }} de {{
        getTotalLenght()
      }} results"
    />
  </span>

  <product-filters></product-filters>

  @if (product_list[0].length === 0) {
  <ng-container *ngTemplateOutlet="emptyList"></ng-container>
  }@else {
  <div class="list">
    @for (product of product_list[currentPage]; track $index) {
    <shop-product-card [product]="product" [index]="$index"></shop-product-card>
    }
  </div>
  }

  <ul class="paginate">
    @for (page of product_list; track $index) {
    <li
      (click)="changeCurrentPage($index)"
      [ngClass]="{ 'active-page': currentPage === $index }"
      class="page"
    >
      {{ $index + 1 }}
    </li>
    }
  </ul>
</div>

<ng-template #emptyList>
  <div
    class="empty-list"
    style="
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 30px;
      margin: 50px;
      height: 100%;
    "
  >
    <img style="width: 400px" src="/images/empty-list.png" alt="Empty List" />
    <span
      style="
        width: 500px;
        display: flex;
        align-items: center;
        flex-direction: column;
      "
    >
      <p style="text-align: center; font-size: 18px">
        We have not found any products that match your search terms.
      </p>
      <span class="btn-empty-list" (click)="resetFilters()">
        Reset Filters
        <img src="/icons/restore.svg" alt="Reiniciar" />
      </span>
    </span>
  </div>
</ng-template>
